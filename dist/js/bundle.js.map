{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/svg4everybody/dist/svg4everybody.min.js","node_modules/vanilla-lazyload/dist/lazyload.min.js","../src/config/main.js","../src/layout/General.js","../src/utils/DOMReadyObject.js"],"names":[],"mappings":"AAAA;ACAA;;ACAA;AACA;AACA;;;;ACFA;;;;;;;;;;;;ACAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;;;IAGM,O;;;;;AAEF,qBAAc;AAAA;;AAAA;;AACV,IAAA,OAAO,CAAC,GAAR,CAAY,uBAAZ;AACA,kFAFU,CAIV;;AACA,UAAK,aAAL,GAAqB,IAAI,yBAAJ,EAArB,CALU,CAOV;;AACA,UAAK,QAAL,GAAgB,IAAI,oBAAJ,CAAa;AACzB,MAAA,iBAAiB,EAAE;AADM,KAAb,CAAhB,CARU,CAYV;;AACA,IAAA,OAAO,CAAC,GAAR,CAAY,CAAC,QAAQ,CAAC,KAAT,EAAD,CAAZ,EAAgC,IAAhC,CAAqC,YAAM,CAE1C,CAFD;AAbU;AAgBb;;;;iCAEY;AACT,MAAA,OAAO,CAAC,GAAR,CAAY,sBAAZ;;AACA;AACH;;;;EAvBiB,+B;;AA0Bf,IAAM,aAAa,GAAG,IAAI,OAAJ,EAAtB;;;;;;;;;;;;;;;;;AClCP;AACA,QAAQ,CAAC,KAAT,GAAiB,YAAM;AACnB,SAAO,IAAI,OAAJ,CAAY,UAAA,OAAO,EAAI;AAC1B,QAAI,QAAQ,CAAC,UAAT,KAAwB,UAA5B,EAAwC;AACpC,MAAA,OAAO;AACV,KAFD,MAEO;AACH,MAAA,QAAQ,CAAC,gBAAT,CAA0B,kBAA1B,EAA8C,OAA9C;AACH;AACJ,GANM,CAAP;AAOH,CARD;AAUA;;;;;;IAIa,c;;;AACT,4BAAc;AAAA;;AAAA;;AACV;AACA,QAAI,KAAK,WAAL,KAAqB,cAAzB,EAAyC;AACrC,YAAM,IAAI,KAAJ,CACF,oDADE,CAAN;AAGH;;AAED,IAAA,QAAQ,CAAC,KAAT,GAAiB,IAAjB,CAAsB,YAAM;AACxB,MAAA,KAAI,CAAC,UAAL;AACH,KAFD;AAGH;;;;iCAEY,CAAG","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","!function(a,b){\"function\"==typeof define&&define.amd?define([],function(){return a.svg4everybody=b()}):\"object\"==typeof module&&module.exports?module.exports=b():a.svg4everybody=b()}(this,function(){function a(a,b,c){if(c){var d=document.createDocumentFragment(),e=!b.hasAttribute(\"viewBox\")&&c.getAttribute(\"viewBox\");e&&b.setAttribute(\"viewBox\",e);for(var f=c.cloneNode(!0);f.childNodes.length;)d.appendChild(f.firstChild);a.appendChild(d)}}function b(b){b.onreadystatechange=function(){if(4===b.readyState){var c=b._cachedDocument;c||(c=b._cachedDocument=document.implementation.createHTMLDocument(\"\"),c.body.innerHTML=b.responseText,b._cachedTarget={}),b._embeds.splice(0).map(function(d){var e=b._cachedTarget[d.id];e||(e=b._cachedTarget[d.id]=c.getElementById(d.id)),a(d.parent,d.svg,e)})}},b.onreadystatechange()}function c(c){function e(){for(var c=0;c<o.length;){var h=o[c],i=h.parentNode,j=d(i),k=h.getAttribute(\"xlink:href\")||h.getAttribute(\"href\");if(!k&&g.attributeName&&(k=h.getAttribute(g.attributeName)),j&&k){if(f)if(!g.validate||g.validate(k,j,h)){i.removeChild(h);var l=k.split(\"#\"),q=l.shift(),r=l.join(\"#\");if(q.length){var s=m[q];s||(s=m[q]=new XMLHttpRequest,s.open(\"GET\",q),s.send(),s._embeds=[]),s._embeds.push({parent:i,svg:j,id:r}),b(s)}else a(i,j,document.getElementById(r))}else++c,++p}else++c}(!o.length||o.length-p>0)&&n(e,67)}var f,g=Object(c),h=/\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/,i=/\\bAppleWebKit\\/(\\d+)\\b/,j=/\\bEdge\\/12\\.(\\d+)\\b/,k=/\\bEdge\\/.(\\d+)\\b/,l=window.top!==window.self;f=\"polyfill\"in g?g.polyfill:h.test(navigator.userAgent)||(navigator.userAgent.match(j)||[])[1]<10547||(navigator.userAgent.match(i)||[])[1]<537||k.test(navigator.userAgent)&&l;var m={},n=window.requestAnimationFrame||setTimeout,o=document.getElementsByTagName(\"use\"),p=0;f&&e()}function d(a){for(var b=a;\"svg\"!==b.nodeName.toLowerCase()&&(b=b.parentNode););return b}return c});","var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};!function(t,e){\"object\"===(\"undefined\"==typeof exports?\"undefined\":_typeof(exports))&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,function(){\"use strict\";function t(t,e,n){return!(u(t,e,n)||_(t,e,n)||f(t,e,n)||h(t,e,n))}function e(t,e,n){var o=e._settings;!n&&r(t)||(C(o.callback_enter,t),R.indexOf(t.tagName)>-1&&(x(t,e),y(t,o.class_loading)),H(t,e),s(t),C(o.callback_set,t))}var n=function(){return{elements_selector:\"img\",container:window,threshold:300,throttle:150,data_src:\"src\",data_srcset:\"srcset\",data_sizes:\"sizes\",data_bg:\"bg\",class_loading:\"loading\",class_loaded:\"loaded\",class_error:\"error\",class_initial:\"initial\",skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_enter:null,callback_finish:null,to_webp:!1}},o=function(t,e){return t.getAttribute(\"data-\"+e)},i=function(t,e,n){var o=\"data-\"+e;null!==n?t.setAttribute(o,n):t.removeAttribute(o)},s=function(t){return i(t,\"was-processed\",\"true\")},r=function(t){return\"true\"===o(t,\"was-processed\")},l=function(t){return t.filter(function(t){return!r(t)})},a=function(t,e){return t.filter(function(t){return t!==e})},c=function(t){return t.getBoundingClientRect().top+window.pageYOffset-t.ownerDocument.documentElement.clientTop},u=function(t,e,n){return(e===window?window.innerHeight+window.pageYOffset:c(e)+e.offsetHeight)<=c(t)-n},d=function(t){return t.getBoundingClientRect().left+window.pageXOffset-t.ownerDocument.documentElement.clientLeft},f=function(t,e,n){var o=window.innerWidth;return(e===window?o+window.pageXOffset:d(e)+o)<=d(t)-n},_=function(t,e,n){return(e===window?window.pageYOffset:c(e))>=c(t)+n+t.offsetHeight},h=function(t,e,n){return(e===window?window.pageXOffset:d(e))>=d(t)+n+t.offsetWidth},p=function(t,e){var n,o=new t(e);try{n=new CustomEvent(\"LazyLoad::Initialized\",{detail:{instance:o}})}catch(t){(n=document.createEvent(\"CustomEvent\")).initCustomEvent(\"LazyLoad::Initialized\",!1,!1,{instance:o})}window.dispatchEvent(n)},g=function(t,e){return e?t.replace(/\\.(jpe?g|png)/gi,\".webp\"):t},m=\"undefined\"!=typeof window,w=m&&!(\"onscroll\"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),v=m&&\"classList\"in document.createElement(\"p\"),b=m&&function(){var t=document.createElement(\"canvas\");return!(!t.getContext||!t.getContext(\"2d\"))&&0===t.toDataURL(\"image/webp\").indexOf(\"data:image/webp\")}(),y=function(t,e){v?t.classList.add(e):t.className+=(t.className?\" \":\"\")+e},E=function(t,e){v?t.classList.remove(e):t.className=t.className.replace(new RegExp(\"(^|\\\\s+)\"+e+\"(\\\\s+|$)\"),\" \").replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")},L=function(t,e,n,i){for(var s,r=0;s=t.children[r];r+=1)if(\"SOURCE\"===s.tagName){var l=o(s,n);T(s,e,l,i)}},T=function(t,e,n,o){n&&t.setAttribute(e,g(n,o))},S=function(t,e){var n=b&&e.to_webp,i=o(t,e.data_src),s=o(t,e.data_bg);if(i){var r=g(i,n);t.style.backgroundImage='url(\"'+r+'\")'}if(s){var l=g(s,n);t.style.backgroundImage=l}},O={IMG:function(t,e){var n=b&&e.to_webp,i=e.data_srcset,s=t.parentNode;s&&\"PICTURE\"===s.tagName&&L(s,\"srcset\",i,n);var r=o(t,e.data_sizes);T(t,\"sizes\",r);var l=o(t,i);T(t,\"srcset\",l,n);var a=o(t,e.data_src);T(t,\"src\",a,n)},IFRAME:function(t,e){var n=o(t,e.data_src);T(t,\"src\",n)},VIDEO:function(t,e){var n=e.data_src,i=o(t,n);L(t,\"src\",n),T(t,\"src\",i),t.load()}},H=function(t,e){var n=e._settings,o=t.tagName,i=O[o];if(i)return i(t,n),e._updateLoadingCount(1),void(e._elements=a(e._elements,t));S(t,n)},C=function(t,e){t&&t(e)},k=function(t,e,n){t.addEventListener(e,n)},z=function(t,e,n){t.removeEventListener(e,n)},N=function(t,e,n){k(t,\"load\",e),k(t,\"loadeddata\",e),k(t,\"error\",n)},A=function(t,e,n){z(t,\"load\",e),z(t,\"loadeddata\",e),z(t,\"error\",n)},I=function(t,e,n){var o=n._settings,i=e?o.class_loaded:o.class_error,s=e?o.callback_load:o.callback_error,r=t.target;E(r,o.class_loading),y(r,i),C(s,r),n._updateLoadingCount(-1)},x=function(t,e){var n=function n(i){I(i,!0,e),A(t,n,o)},o=function o(i){I(i,!1,e),A(t,n,o)};N(t,n,o)},R=[\"IMG\",\"IFRAME\",\"VIDEO\"],D=function(t,e){for(;e.length;)t.splice(e.pop(),1)},F=function(t){this._settings=_extends({},n(),t),this._loadingCount=0,this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._boundHandleScroll=this.handleScroll.bind(this),this._isFirstLoop=!0,window.addEventListener(\"resize\",this._boundHandleScroll),this.update()};return F.prototype={_loopThroughElements:function(e){var n=this._settings,o=this._elements,i=o?o.length:0,s=void 0,r=[],l=this._isFirstLoop;if(l&&(this._isFirstLoop=!1),0!==i){for(s=0;s<i;s++){var a=o[s];n.skip_invisible&&null===a.offsetParent||(e||t(a,n.container,n.threshold))&&(l&&y(a,n.class_initial),this.load(a),r.push(s))}D(o,r)}else this._stopScrollHandler()},_startScrollHandler:function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._settings.container.addEventListener(\"scroll\",this._boundHandleScroll))},_stopScrollHandler:function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._settings.container.removeEventListener(\"scroll\",this._boundHandleScroll))},_updateLoadingCount:function(t){this._loadingCount+=t,0===this._elements.length&&0===this._loadingCount&&C(this._settings.callback_finish)},handleScroll:function(){var t=this._settings.throttle;if(0!==t){var e=Date.now(),n=t-(e-this._previousLoopTime);n<=0||n>t?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=e,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(function(){this._previousLoopTime=Date.now(),this._loopTimeout=null,this._loopThroughElements()}.bind(this),n))}else this._loopThroughElements()},loadAll:function(){this._loopThroughElements(!0)},update:function(t){var e=this._settings,n=t||this._queryOriginNode.querySelectorAll(e.elements_selector);this._elements=l(Array.prototype.slice.call(n)),w?this.loadAll():(this._loopThroughElements(),this._startScrollHandler())},destroy:function(){window.removeEventListener(\"resize\",this._boundHandleScroll),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},load:function(t,n){e(t,this,n)}},m&&function(t,e){if(e)if(e.length)for(var n,o=0;n=e[o];o+=1)p(t,n);else p(t,e)}(F,window.lazyLoadOptions),F});\n//# sourceMappingURL=lazyload.min.js.map\n","import generalLayout from \"../layout/General.js\";","import Svg4everybody from \"../../build/node_modules/svg4everybody/dist/svg4everybody.min.js\";\r\nimport Lazyload from \"../../build/node_modules/vanilla-lazyload/dist/lazyload.min.js\";\r\nimport { DOMReadyObject } from \"../utils/DOMReadyObject.js\";\r\n\r\n\r\n/**\r\n * Layout general\r\n */\r\nclass General extends DOMReadyObject {\r\n\r\n    constructor() {\r\n        console.log('General.constructor()');\r\n        super();\r\n\r\n        //SVG for everybody\r\n        this.svg4everybody = new Svg4everybody();\r\n\r\n        //Lazyload\r\n        this.lazyload = new Lazyload({\r\n            elements_selector: \".lazy\"\r\n        });\r\n        \r\n        //DOM ready \r\n        Promise.all([document.ready()]).then(() => {\r\n\r\n        });\r\n    }\r\n\r\n    isDOMReady() {\r\n        console.log('General.isDOMReady()');\r\n        super.isDOMReady();\r\n    }\r\n}\r\n\r\nexport const generalLayout = new General();","//Document ready Promise\r\ndocument.ready = () => {\r\n    return new Promise(resolve => {\r\n        if (document.readyState === 'complete') {\r\n            resolve();\r\n        } else {\r\n            document.addEventListener('DOMContentLoaded', resolve);\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * DOMReadyObject\r\n * abstract class\r\n */\r\nexport class DOMReadyObject {\r\n    constructor() {\r\n        //On ne peut pas instancier la class directement\r\n        if (this.constructor === DOMReadyObject) {\r\n            throw new Error(\r\n                'Cannot construct DOMReadyObject instances directly'\r\n            );\r\n        }\r\n\r\n        document.ready().then(() => {\r\n            this.isDOMReady();\r\n        });\r\n    }\r\n\r\n    isDOMReady() { }\r\n}\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvc3ZnNGV2ZXJ5Ym9keS9kaXN0L3N2ZzRldmVyeWJvZHkubWluLmpzIiwibm9kZV9tb2R1bGVzL3ZhbmlsbGEtbGF6eWxvYWQvZGlzdC9sYXp5bG9hZC5taW4uanMiLCIuLi9zcmMvY29uZmlnL21haW4uanMiLCIuLi9zcmMvbGF5b3V0L0dlbmVyYWwuanMiLCIuLi9zcmMvdXRpbHMvRE9NUmVhZHlPYmplY3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7Ozs7QUNGQTs7Ozs7Ozs7Ozs7O0FDQUE7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0E7OztJQUdNLE87Ozs7O0FBRUYscUJBQWM7QUFBQTs7QUFBQTs7QUFDVixJQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksdUJBQVo7QUFDQSxrRkFGVSxDQUlWOztBQUNBLFVBQUssYUFBTCxHQUFxQixJQUFJLHlCQUFKLEVBQXJCLENBTFUsQ0FPVjs7QUFDQSxVQUFLLFFBQUwsR0FBZ0IsSUFBSSxvQkFBSixDQUFhO0FBQ3pCLE1BQUEsaUJBQWlCLEVBQUU7QUFETSxLQUFiLENBQWhCLENBUlUsQ0FZVjs7QUFDQSxJQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksQ0FBQyxRQUFRLENBQUMsS0FBVCxFQUFELENBQVosRUFBZ0MsSUFBaEMsQ0FBcUMsWUFBTSxDQUUxQyxDQUZEO0FBYlU7QUFnQmI7Ozs7aUNBRVk7QUFDVCxNQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksc0JBQVo7O0FBQ0E7QUFDSDs7OztFQXZCaUIsK0I7O0FBMEJmLElBQU0sYUFBYSxHQUFHLElBQUksT0FBSixFQUF0Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsQ1A7QUFDQSxRQUFRLENBQUMsS0FBVCxHQUFpQixZQUFNO0FBQ25CLFNBQU8sSUFBSSxPQUFKLENBQVksVUFBQSxPQUFPLEVBQUk7QUFDMUIsUUFBSSxRQUFRLENBQUMsVUFBVCxLQUF3QixVQUE1QixFQUF3QztBQUNwQyxNQUFBLE9BQU87QUFDVixLQUZELE1BRU87QUFDSCxNQUFBLFFBQVEsQ0FBQyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOEMsT0FBOUM7QUFDSDtBQUNKLEdBTk0sQ0FBUDtBQU9ILENBUkQ7QUFVQTs7Ozs7O0lBSWEsYzs7O0FBQ1QsNEJBQWM7QUFBQTs7QUFBQTs7QUFDVjtBQUNBLFFBQUksS0FBSyxXQUFMLEtBQXFCLGNBQXpCLEVBQXlDO0FBQ3JDLFlBQU0sSUFBSSxLQUFKLENBQ0Ysb0RBREUsQ0FBTjtBQUdIOztBQUVELElBQUEsUUFBUSxDQUFDLEtBQVQsR0FBaUIsSUFBakIsQ0FBc0IsWUFBTTtBQUN4QixNQUFBLEtBQUksQ0FBQyxVQUFMO0FBQ0gsS0FGRDtBQUdIOzs7O2lDQUVZLENBQUciLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIhZnVuY3Rpb24oYSxiKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGEuc3ZnNGV2ZXJ5Ym9keT1iKCl9KTpcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1iKCk6YS5zdmc0ZXZlcnlib2R5PWIoKX0odGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe2lmKGMpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxlPSFiLmhhc0F0dHJpYnV0ZShcInZpZXdCb3hcIikmJmMuZ2V0QXR0cmlidXRlKFwidmlld0JveFwiKTtlJiZiLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIixlKTtmb3IodmFyIGY9Yy5jbG9uZU5vZGUoITApO2YuY2hpbGROb2Rlcy5sZW5ndGg7KWQuYXBwZW5kQ2hpbGQoZi5maXJzdENoaWxkKTthLmFwcGVuZENoaWxkKGQpfX1mdW5jdGlvbiBiKGIpe2Iub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PWIucmVhZHlTdGF0ZSl7dmFyIGM9Yi5fY2FjaGVkRG9jdW1lbnQ7Y3x8KGM9Yi5fY2FjaGVkRG9jdW1lbnQ9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpLGMuYm9keS5pbm5lckhUTUw9Yi5yZXNwb25zZVRleHQsYi5fY2FjaGVkVGFyZ2V0PXt9KSxiLl9lbWJlZHMuc3BsaWNlKDApLm1hcChmdW5jdGlvbihkKXt2YXIgZT1iLl9jYWNoZWRUYXJnZXRbZC5pZF07ZXx8KGU9Yi5fY2FjaGVkVGFyZ2V0W2QuaWRdPWMuZ2V0RWxlbWVudEJ5SWQoZC5pZCkpLGEoZC5wYXJlbnQsZC5zdmcsZSl9KX19LGIub25yZWFkeXN0YXRlY2hhbmdlKCl9ZnVuY3Rpb24gYyhjKXtmdW5jdGlvbiBlKCl7Zm9yKHZhciBjPTA7YzxvLmxlbmd0aDspe3ZhciBoPW9bY10saT1oLnBhcmVudE5vZGUsaj1kKGkpLGs9aC5nZXRBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpfHxoLmdldEF0dHJpYnV0ZShcImhyZWZcIik7aWYoIWsmJmcuYXR0cmlidXRlTmFtZSYmKGs9aC5nZXRBdHRyaWJ1dGUoZy5hdHRyaWJ1dGVOYW1lKSksaiYmayl7aWYoZilpZighZy52YWxpZGF0ZXx8Zy52YWxpZGF0ZShrLGosaCkpe2kucmVtb3ZlQ2hpbGQoaCk7dmFyIGw9ay5zcGxpdChcIiNcIikscT1sLnNoaWZ0KCkscj1sLmpvaW4oXCIjXCIpO2lmKHEubGVuZ3RoKXt2YXIgcz1tW3FdO3N8fChzPW1bcV09bmV3IFhNTEh0dHBSZXF1ZXN0LHMub3BlbihcIkdFVFwiLHEpLHMuc2VuZCgpLHMuX2VtYmVkcz1bXSkscy5fZW1iZWRzLnB1c2goe3BhcmVudDppLHN2ZzpqLGlkOnJ9KSxiKHMpfWVsc2UgYShpLGosZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocikpfWVsc2UrK2MsKytwfWVsc2UrK2N9KCFvLmxlbmd0aHx8by5sZW5ndGgtcD4wKSYmbihlLDY3KX12YXIgZixnPU9iamVjdChjKSxoPS9cXGJUcmlkZW50XFwvWzU2N11cXGJ8XFxiTVNJRSAoPzo5fDEwKVxcLjBcXGIvLGk9L1xcYkFwcGxlV2ViS2l0XFwvKFxcZCspXFxiLyxqPS9cXGJFZGdlXFwvMTJcXC4oXFxkKylcXGIvLGs9L1xcYkVkZ2VcXC8uKFxcZCspXFxiLyxsPXdpbmRvdy50b3AhPT13aW5kb3cuc2VsZjtmPVwicG9seWZpbGxcImluIGc/Zy5wb2x5ZmlsbDpoLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKGopfHxbXSlbMV08MTA1NDd8fChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKGkpfHxbXSlbMV08NTM3fHxrLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJmw7dmFyIG09e30sbj13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxzZXRUaW1lb3V0LG89ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ1c2VcIikscD0wO2YmJmUoKX1mdW5jdGlvbiBkKGEpe2Zvcih2YXIgYj1hO1wic3ZnXCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJihiPWIucGFyZW50Tm9kZSk7KTtyZXR1cm4gYn1yZXR1cm4gY30pOyIsInZhciBfZXh0ZW5kcz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciBvIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sbykmJih0W29dPW5bb10pfXJldHVybiB0fSxfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9OyFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGV4cG9ydHM/XCJ1bmRlZmluZWRcIjpfdHlwZW9mKGV4cG9ydHMpKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTp0LkxhenlMb2FkPWUoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlLG4pe3JldHVybiEodSh0LGUsbil8fF8odCxlLG4pfHxmKHQsZSxuKXx8aCh0LGUsbikpfWZ1bmN0aW9uIGUodCxlLG4pe3ZhciBvPWUuX3NldHRpbmdzOyFuJiZyKHQpfHwoQyhvLmNhbGxiYWNrX2VudGVyLHQpLFIuaW5kZXhPZih0LnRhZ05hbWUpPi0xJiYoeCh0LGUpLHkodCxvLmNsYXNzX2xvYWRpbmcpKSxIKHQsZSkscyh0KSxDKG8uY2FsbGJhY2tfc2V0LHQpKX12YXIgbj1mdW5jdGlvbigpe3JldHVybntlbGVtZW50c19zZWxlY3RvcjpcImltZ1wiLGNvbnRhaW5lcjp3aW5kb3csdGhyZXNob2xkOjMwMCx0aHJvdHRsZToxNTAsZGF0YV9zcmM6XCJzcmNcIixkYXRhX3NyY3NldDpcInNyY3NldFwiLGRhdGFfc2l6ZXM6XCJzaXplc1wiLGRhdGFfYmc6XCJiZ1wiLGNsYXNzX2xvYWRpbmc6XCJsb2FkaW5nXCIsY2xhc3NfbG9hZGVkOlwibG9hZGVkXCIsY2xhc3NfZXJyb3I6XCJlcnJvclwiLGNsYXNzX2luaXRpYWw6XCJpbml0aWFsXCIsc2tpcF9pbnZpc2libGU6ITAsY2FsbGJhY2tfbG9hZDpudWxsLGNhbGxiYWNrX2Vycm9yOm51bGwsY2FsbGJhY2tfc2V0Om51bGwsY2FsbGJhY2tfZW50ZXI6bnVsbCxjYWxsYmFja19maW5pc2g6bnVsbCx0b193ZWJwOiExfX0sbz1mdW5jdGlvbih0LGUpe3JldHVybiB0LmdldEF0dHJpYnV0ZShcImRhdGEtXCIrZSl9LGk9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPVwiZGF0YS1cIitlO251bGwhPT1uP3Quc2V0QXR0cmlidXRlKG8sbik6dC5yZW1vdmVBdHRyaWJ1dGUobyl9LHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkodCxcIndhcy1wcm9jZXNzZWRcIixcInRydWVcIil9LHI9ZnVuY3Rpb24odCl7cmV0dXJuXCJ0cnVlXCI9PT1vKHQsXCJ3YXMtcHJvY2Vzc2VkXCIpfSxsPWZ1bmN0aW9uKHQpe3JldHVybiB0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hcih0KX0pfSxhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0IT09ZX0pfSxjPWZ1bmN0aW9uKHQpe3JldHVybiB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCt3aW5kb3cucGFnZVlPZmZzZXQtdC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3B9LHU9ZnVuY3Rpb24odCxlLG4pe3JldHVybihlPT09d2luZG93P3dpbmRvdy5pbm5lckhlaWdodCt3aW5kb3cucGFnZVlPZmZzZXQ6YyhlKStlLm9mZnNldEhlaWdodCk8PWModCktbn0sZD1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0K3dpbmRvdy5wYWdlWE9mZnNldC10Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnR9LGY9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXdpbmRvdy5pbm5lcldpZHRoO3JldHVybihlPT09d2luZG93P28rd2luZG93LnBhZ2VYT2Zmc2V0OmQoZSkrbyk8PWQodCktbn0sXz1mdW5jdGlvbih0LGUsbil7cmV0dXJuKGU9PT13aW5kb3c/d2luZG93LnBhZ2VZT2Zmc2V0OmMoZSkpPj1jKHQpK24rdC5vZmZzZXRIZWlnaHR9LGg9ZnVuY3Rpb24odCxlLG4pe3JldHVybihlPT09d2luZG93P3dpbmRvdy5wYWdlWE9mZnNldDpkKGUpKT49ZCh0KStuK3Qub2Zmc2V0V2lkdGh9LHA9ZnVuY3Rpb24odCxlKXt2YXIgbixvPW5ldyB0KGUpO3RyeXtuPW5ldyBDdXN0b21FdmVudChcIkxhenlMb2FkOjpJbml0aWFsaXplZFwiLHtkZXRhaWw6e2luc3RhbmNlOm99fSl9Y2F0Y2godCl7KG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKSkuaW5pdEN1c3RvbUV2ZW50KFwiTGF6eUxvYWQ6OkluaXRpYWxpemVkXCIsITEsITEse2luc3RhbmNlOm99KX13aW5kb3cuZGlzcGF0Y2hFdmVudChuKX0sZz1mdW5jdGlvbih0LGUpe3JldHVybiBlP3QucmVwbGFjZSgvXFwuKGpwZT9nfHBuZykvZ2ksXCIud2VicFwiKTp0fSxtPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3csdz1tJiYhKFwib25zY3JvbGxcImluIHdpbmRvdyl8fC8oZ2xlfGluZ3xybylib3R8Y3Jhd2x8c3BpZGVyL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSx2PW0mJlwiY2xhc3NMaXN0XCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKSxiPW0mJmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4hKCF0LmdldENvbnRleHR8fCF0LmdldENvbnRleHQoXCIyZFwiKSkmJjA9PT10LnRvRGF0YVVSTChcImltYWdlL3dlYnBcIikuaW5kZXhPZihcImRhdGE6aW1hZ2Uvd2VicFwiKX0oKSx5PWZ1bmN0aW9uKHQsZSl7dj90LmNsYXNzTGlzdC5hZGQoZSk6dC5jbGFzc05hbWUrPSh0LmNsYXNzTmFtZT9cIiBcIjpcIlwiKStlfSxFPWZ1bmN0aW9uKHQsZSl7dj90LmNsYXNzTGlzdC5yZW1vdmUoZSk6dC5jbGFzc05hbWU9dC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKFwiKF58XFxcXHMrKVwiK2UrXCIoXFxcXHMrfCQpXCIpLFwiIFwiKS5yZXBsYWNlKC9eXFxzKy8sXCJcIikucmVwbGFjZSgvXFxzKyQvLFwiXCIpfSxMPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcyxyPTA7cz10LmNoaWxkcmVuW3JdO3IrPTEpaWYoXCJTT1VSQ0VcIj09PXMudGFnTmFtZSl7dmFyIGw9byhzLG4pO1QocyxlLGwsaSl9fSxUPWZ1bmN0aW9uKHQsZSxuLG8pe24mJnQuc2V0QXR0cmlidXRlKGUsZyhuLG8pKX0sUz1mdW5jdGlvbih0LGUpe3ZhciBuPWImJmUudG9fd2VicCxpPW8odCxlLmRhdGFfc3JjKSxzPW8odCxlLmRhdGFfYmcpO2lmKGkpe3ZhciByPWcoaSxuKTt0LnN0eWxlLmJhY2tncm91bmRJbWFnZT0ndXJsKFwiJytyKydcIiknfWlmKHMpe3ZhciBsPWcocyxuKTt0LnN0eWxlLmJhY2tncm91bmRJbWFnZT1sfX0sTz17SU1HOmZ1bmN0aW9uKHQsZSl7dmFyIG49YiYmZS50b193ZWJwLGk9ZS5kYXRhX3NyY3NldCxzPXQucGFyZW50Tm9kZTtzJiZcIlBJQ1RVUkVcIj09PXMudGFnTmFtZSYmTChzLFwic3Jjc2V0XCIsaSxuKTt2YXIgcj1vKHQsZS5kYXRhX3NpemVzKTtUKHQsXCJzaXplc1wiLHIpO3ZhciBsPW8odCxpKTtUKHQsXCJzcmNzZXRcIixsLG4pO3ZhciBhPW8odCxlLmRhdGFfc3JjKTtUKHQsXCJzcmNcIixhLG4pfSxJRlJBTUU6ZnVuY3Rpb24odCxlKXt2YXIgbj1vKHQsZS5kYXRhX3NyYyk7VCh0LFwic3JjXCIsbil9LFZJREVPOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5kYXRhX3NyYyxpPW8odCxuKTtMKHQsXCJzcmNcIixuKSxUKHQsXCJzcmNcIixpKSx0LmxvYWQoKX19LEg9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLl9zZXR0aW5ncyxvPXQudGFnTmFtZSxpPU9bb107aWYoaSlyZXR1cm4gaSh0LG4pLGUuX3VwZGF0ZUxvYWRpbmdDb3VudCgxKSx2b2lkKGUuX2VsZW1lbnRzPWEoZS5fZWxlbWVudHMsdCkpO1ModCxuKX0sQz1mdW5jdGlvbih0LGUpe3QmJnQoZSl9LGs9ZnVuY3Rpb24odCxlLG4pe3QuYWRkRXZlbnRMaXN0ZW5lcihlLG4pfSx6PWZ1bmN0aW9uKHQsZSxuKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuKX0sTj1mdW5jdGlvbih0LGUsbil7ayh0LFwibG9hZFwiLGUpLGsodCxcImxvYWRlZGRhdGFcIixlKSxrKHQsXCJlcnJvclwiLG4pfSxBPWZ1bmN0aW9uKHQsZSxuKXt6KHQsXCJsb2FkXCIsZSkseih0LFwibG9hZGVkZGF0YVwiLGUpLHoodCxcImVycm9yXCIsbil9LEk9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4uX3NldHRpbmdzLGk9ZT9vLmNsYXNzX2xvYWRlZDpvLmNsYXNzX2Vycm9yLHM9ZT9vLmNhbGxiYWNrX2xvYWQ6by5jYWxsYmFja19lcnJvcixyPXQudGFyZ2V0O0UocixvLmNsYXNzX2xvYWRpbmcpLHkocixpKSxDKHMsciksbi5fdXBkYXRlTG9hZGluZ0NvdW50KC0xKX0seD1mdW5jdGlvbih0LGUpe3ZhciBuPWZ1bmN0aW9uIG4oaSl7SShpLCEwLGUpLEEodCxuLG8pfSxvPWZ1bmN0aW9uIG8oaSl7SShpLCExLGUpLEEodCxuLG8pfTtOKHQsbixvKX0sUj1bXCJJTUdcIixcIklGUkFNRVwiLFwiVklERU9cIl0sRD1mdW5jdGlvbih0LGUpe2Zvcig7ZS5sZW5ndGg7KXQuc3BsaWNlKGUucG9wKCksMSl9LEY9ZnVuY3Rpb24odCl7dGhpcy5fc2V0dGluZ3M9X2V4dGVuZHMoe30sbigpLHQpLHRoaXMuX2xvYWRpbmdDb3VudD0wLHRoaXMuX3F1ZXJ5T3JpZ2luTm9kZT10aGlzLl9zZXR0aW5ncy5jb250YWluZXI9PT13aW5kb3c/ZG9jdW1lbnQ6dGhpcy5fc2V0dGluZ3MuY29udGFpbmVyLHRoaXMuX3ByZXZpb3VzTG9vcFRpbWU9MCx0aGlzLl9sb29wVGltZW91dD1udWxsLHRoaXMuX2JvdW5kSGFuZGxlU2Nyb2xsPXRoaXMuaGFuZGxlU2Nyb2xsLmJpbmQodGhpcyksdGhpcy5faXNGaXJzdExvb3A9ITAsd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl9ib3VuZEhhbmRsZVNjcm9sbCksdGhpcy51cGRhdGUoKX07cmV0dXJuIEYucHJvdG90eXBlPXtfbG9vcFRocm91Z2hFbGVtZW50czpmdW5jdGlvbihlKXt2YXIgbj10aGlzLl9zZXR0aW5ncyxvPXRoaXMuX2VsZW1lbnRzLGk9bz9vLmxlbmd0aDowLHM9dm9pZCAwLHI9W10sbD10aGlzLl9pc0ZpcnN0TG9vcDtpZihsJiYodGhpcy5faXNGaXJzdExvb3A9ITEpLDAhPT1pKXtmb3Iocz0wO3M8aTtzKyspe3ZhciBhPW9bc107bi5za2lwX2ludmlzaWJsZSYmbnVsbD09PWEub2Zmc2V0UGFyZW50fHwoZXx8dChhLG4uY29udGFpbmVyLG4udGhyZXNob2xkKSkmJihsJiZ5KGEsbi5jbGFzc19pbml0aWFsKSx0aGlzLmxvYWQoYSksci5wdXNoKHMpKX1EKG8scil9ZWxzZSB0aGlzLl9zdG9wU2Nyb2xsSGFuZGxlcigpfSxfc3RhcnRTY3JvbGxIYW5kbGVyOmZ1bmN0aW9uKCl7dGhpcy5faXNIYW5kbGluZ1Njcm9sbHx8KHRoaXMuX2lzSGFuZGxpbmdTY3JvbGw9ITAsdGhpcy5fc2V0dGluZ3MuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl9ib3VuZEhhbmRsZVNjcm9sbCkpfSxfc3RvcFNjcm9sbEhhbmRsZXI6ZnVuY3Rpb24oKXt0aGlzLl9pc0hhbmRsaW5nU2Nyb2xsJiYodGhpcy5faXNIYW5kbGluZ1Njcm9sbD0hMSx0aGlzLl9zZXR0aW5ncy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX2JvdW5kSGFuZGxlU2Nyb2xsKSl9LF91cGRhdGVMb2FkaW5nQ291bnQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9hZGluZ0NvdW50Kz10LDA9PT10aGlzLl9lbGVtZW50cy5sZW5ndGgmJjA9PT10aGlzLl9sb2FkaW5nQ291bnQmJkModGhpcy5fc2V0dGluZ3MuY2FsbGJhY2tfZmluaXNoKX0saGFuZGxlU2Nyb2xsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2V0dGluZ3MudGhyb3R0bGU7aWYoMCE9PXQpe3ZhciBlPURhdGUubm93KCksbj10LShlLXRoaXMuX3ByZXZpb3VzTG9vcFRpbWUpO248PTB8fG4+dD8odGhpcy5fbG9vcFRpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5fbG9vcFRpbWVvdXQpLHRoaXMuX2xvb3BUaW1lb3V0PW51bGwpLHRoaXMuX3ByZXZpb3VzTG9vcFRpbWU9ZSx0aGlzLl9sb29wVGhyb3VnaEVsZW1lbnRzKCkpOnRoaXMuX2xvb3BUaW1lb3V0fHwodGhpcy5fbG9vcFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuX3ByZXZpb3VzTG9vcFRpbWU9RGF0ZS5ub3coKSx0aGlzLl9sb29wVGltZW91dD1udWxsLHRoaXMuX2xvb3BUaHJvdWdoRWxlbWVudHMoKX0uYmluZCh0aGlzKSxuKSl9ZWxzZSB0aGlzLl9sb29wVGhyb3VnaEVsZW1lbnRzKCl9LGxvYWRBbGw6ZnVuY3Rpb24oKXt0aGlzLl9sb29wVGhyb3VnaEVsZW1lbnRzKCEwKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NldHRpbmdzLG49dHx8dGhpcy5fcXVlcnlPcmlnaW5Ob2RlLnF1ZXJ5U2VsZWN0b3JBbGwoZS5lbGVtZW50c19zZWxlY3Rvcik7dGhpcy5fZWxlbWVudHM9bChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuKSksdz90aGlzLmxvYWRBbGwoKToodGhpcy5fbG9vcFRocm91Z2hFbGVtZW50cygpLHRoaXMuX3N0YXJ0U2Nyb2xsSGFuZGxlcigpKX0sZGVzdHJveTpmdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fYm91bmRIYW5kbGVTY3JvbGwpLHRoaXMuX2xvb3BUaW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX2xvb3BUaW1lb3V0KSx0aGlzLl9sb29wVGltZW91dD1udWxsKSx0aGlzLl9zdG9wU2Nyb2xsSGFuZGxlcigpLHRoaXMuX2VsZW1lbnRzPW51bGwsdGhpcy5fcXVlcnlPcmlnaW5Ob2RlPW51bGwsdGhpcy5fc2V0dGluZ3M9bnVsbH0sbG9hZDpmdW5jdGlvbih0LG4pe2UodCx0aGlzLG4pfX0sbSYmZnVuY3Rpb24odCxlKXtpZihlKWlmKGUubGVuZ3RoKWZvcih2YXIgbixvPTA7bj1lW29dO28rPTEpcCh0LG4pO2Vsc2UgcCh0LGUpfShGLHdpbmRvdy5sYXp5TG9hZE9wdGlvbnMpLEZ9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhenlsb2FkLm1pbi5qcy5tYXBcbiIsImltcG9ydCBnZW5lcmFsTGF5b3V0IGZyb20gXCIuLi9sYXlvdXQvR2VuZXJhbC5qc1wiOyIsImltcG9ydCBTdmc0ZXZlcnlib2R5IGZyb20gXCIuLi8uLi9idWlsZC9ub2RlX21vZHVsZXMvc3ZnNGV2ZXJ5Ym9keS9kaXN0L3N2ZzRldmVyeWJvZHkubWluLmpzXCI7XHJcbmltcG9ydCBMYXp5bG9hZCBmcm9tIFwiLi4vLi4vYnVpbGQvbm9kZV9tb2R1bGVzL3ZhbmlsbGEtbGF6eWxvYWQvZGlzdC9sYXp5bG9hZC5taW4uanNcIjtcclxuaW1wb3J0IHsgRE9NUmVhZHlPYmplY3QgfSBmcm9tIFwiLi4vdXRpbHMvRE9NUmVhZHlPYmplY3QuanNcIjtcclxuXHJcblxyXG4vKipcclxuICogTGF5b3V0IGdlbmVyYWxcclxuICovXHJcbmNsYXNzIEdlbmVyYWwgZXh0ZW5kcyBET01SZWFkeU9iamVjdCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0dlbmVyYWwuY29uc3RydWN0b3IoKScpO1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIC8vU1ZHIGZvciBldmVyeWJvZHlcclxuICAgICAgICB0aGlzLnN2ZzRldmVyeWJvZHkgPSBuZXcgU3ZnNGV2ZXJ5Ym9keSgpO1xyXG5cclxuICAgICAgICAvL0xhenlsb2FkXHJcbiAgICAgICAgdGhpcy5sYXp5bG9hZCA9IG5ldyBMYXp5bG9hZCh7XHJcbiAgICAgICAgICAgIGVsZW1lbnRzX3NlbGVjdG9yOiBcIi5sYXp5XCJcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvL0RPTSByZWFkeSBcclxuICAgICAgICBQcm9taXNlLmFsbChbZG9jdW1lbnQucmVhZHkoKV0pLnRoZW4oKCkgPT4ge1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpc0RPTVJlYWR5KCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdHZW5lcmFsLmlzRE9NUmVhZHkoKScpO1xyXG4gICAgICAgIHN1cGVyLmlzRE9NUmVhZHkoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdlbmVyYWxMYXlvdXQgPSBuZXcgR2VuZXJhbCgpOyIsIi8vRG9jdW1lbnQgcmVhZHkgUHJvbWlzZVxyXG5kb2N1bWVudC5yZWFkeSA9ICgpID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHJlc29sdmUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIERPTVJlYWR5T2JqZWN0XHJcbiAqIGFic3RyYWN0IGNsYXNzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRE9NUmVhZHlPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLy9PbiBuZSBwZXV0IHBhcyBpbnN0YW5jaWVyIGxhIGNsYXNzIGRpcmVjdGVtZW50XHJcbiAgICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IgPT09IERPTVJlYWR5T2JqZWN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICAgICAgICdDYW5ub3QgY29uc3RydWN0IERPTVJlYWR5T2JqZWN0IGluc3RhbmNlcyBkaXJlY3RseSdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRvY3VtZW50LnJlYWR5KCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNET01SZWFkeSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlzRE9NUmVhZHkoKSB7IH1cclxufVxyXG4iXX0="}